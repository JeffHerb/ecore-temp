<!doctype html>
<html lang="en" class="external-app emp-orpts-subtheme emp-fontsize-14 theme-teal">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="Cache-control" content="no-cache" />
	<meta name="expires" content="0" />
	<meta charset="utf-8">
	<title></title>
</head>

<body>
	<div id="header-wrapper"></div>
	<div id="body-wrapper"></div>
	<div id="footer-wrapper"></div>
	<div id="emp-page-loading">
		<div class="message" style="z-index:900; height: 100%; width: 100%; position: fixed;">
			<style type='text/css'>
				@-webkit-keyframes uil-default-anim {
					0% {
						opacity: 1
					}

					100% {
						opacity: 0
					}
				}

				@keyframes uil-default-anim {
					0% {
						opacity: 1
					}

					100% {
						opacity: 0
					}
				}

				.uil-default-css>div:nth-of-type(0) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.5s;
					animation-delay: -0.5s;
				}

				.uil-default-css>div:nth-of-type(1) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.5s;
					animation-delay: -0.5s;
				}

				.uil-default-css>div:nth-of-type(2) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.4166666666666667s;
					animation-delay: -0.4166666666666667s;
				}

				.uil-default-css>div:nth-of-type(3) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.33333333333333337s;
					animation-delay: -0.33333333333333337s;
				}

				.uil-default-css>div:nth-of-type(4) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.25s;
					animation-delay: -0.25s;
				}

				.uil-default-css>div:nth-of-type(5) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.16666666666666669s;
					animation-delay: -0.16666666666666669s;
				}

				.uil-default-css>div:nth-of-type(6) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: -0.08333333333333331s;
					animation-delay: -0.08333333333333331s;
				}

				.uil-default-css>div:nth-of-type(7) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: 0s;
					animation-delay: 0s;
				}

				.uil-default-css>div:nth-of-type(8) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: 0.08333333333333337s;
					animation-delay: 0.08333333333333337s;
				}

				.uil-default-css>div:nth-of-type(9) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: 0.16666666666666663s;
					animation-delay: 0.16666666666666663s;
				}

				.uil-default-css>div:nth-of-type(10) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: 0.25s;
					animation-delay: 0.25s;
				}

				.uil-default-css>div:nth-of-type(11) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: 0.33333333333333337s;
					animation-delay: 0.33333333333333337s;
				}

				.uil-default-css>div:nth-of-type(12) {
					-webkit-animation: uil-default-anim 1s linear infinite;
					animation: uil-default-anim 1s linear infinite;
					-webkit-animation-delay: 0.41666666666666663s;
					animation-delay: 0.41666666666666663s;
				}

				.uil-default-css {
					position: relative;
					background: none;
					width: 40px;
					height: 40px;
					left: -16px;
					top: -16px;
				}
			</style>
			<div class="container" style="height: 65px;position:absolute;white-space: nowrap;display: inline-block;top: 50%;margin: -34.5px 0 0 -70px;width: 140px;left: 50%;">
				<div class="spinner" style="height: 40px; width: 40px; margin: auto;">
					<div class='uil-default-css' style='transform:scale(0.20);'>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(0deg) translate(0,-60px);transform:rotate(0deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(30deg) translate(0,-60px);transform:rotate(30deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(60deg) translate(0,-60px);transform:rotate(60deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(90deg) translate(0,-60px);transform:rotate(90deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(120deg) translate(0,-60px);transform:rotate(120deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(150deg) translate(0,-60px);transform:rotate(150deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(180deg) translate(0,-60px);transform:rotate(180deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(210deg) translate(0,-60px);transform:rotate(210deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(240deg) translate(0,-60px);transform:rotate(240deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(270deg) translate(0,-60px);transform:rotate(270deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(300deg) translate(0,-60px);transform:rotate(300deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
						<div style='top:80px;left:93px;width:14px;height:40px;background:#000000;-webkit-transform:rotate(330deg) translate(0,-60px);transform:rotate(330deg) translate(0,-60px);border-radius:10px;position:absolute;'>
						</div>
					</div>
				</div>

				<p>Loading, Please Wait.</p>

			</div>

		</div>

	</div>

	<script>
		var fwData = {
			"preferences": false,
			"footer": {
				"contents": [{
					"template": "external-universal-footer"
				}]
			},
			"context": {
				"ui": {
					"css": "css/main.css",
					"baseurl": "http://localhost:8888",
					"js": "js/main.js",
					"version": "/dist"
				},
				"screen": {
					"type": "page"
				}
			},
			"header": {
				"contents": [{
						"template": "universal-header"
					},
					{
						"template": "agency-header",
						"userAcct": {
							"text": "MHPFALGIER"
						},
						"title": "Manufactured Home Parks Registration",
                        "page": {
                            "title": "Park Information"
                        }
					}
				]
			},
			"page": {
				"contents": [{
						"template": "pageInfo",
						"instructions": [{
							"template": "output",
							"raw": true,
							"text": "<p>Below is a summary of your associated manufactured home parks. Select <strong>Edit Primary Contact</strong> to update your primary contact information. </p>"
						}],
						"pageLegend": {},
					},
					{
						"template": "pagebody",
						"contents": [{
							"contents": [{
									"template": "group",
									"contents": [{
											"template": "grid",
											"contents": [{
												"template": "grid",
												"contents": [{
													"template": "field",
													"input": {
														"attributes": {
															"size": 330,
															"maxlength": 330,
															"name": "primaryContactInfo",
															"aria-required": false,
															"id": "EC_PRIMARY_CONTACT",
															"type": "text",
															"value": "FRANK ALGIER\n1839 SOUTH RD\nWAPPINGERS FALLS, NY 12590\n(845)298-2927\nCheryl.Winter@its.ny.gov"
														},
														"readOnly": true
													},
													"label": {
														"attributes": {
															"for": "EC_PRIMARY_CONTACT"
														},
														"text": "Primary contact:"
													},
													"type": "text"
												}],
												"width": "full",
												"attributes": {},
												"type": "column"
											}],
											"attributes": {},
											"type": "row"
										},
										{
											"template": "buttonGroup",
											"contents": [{
												"template": "buttonGroup",
												"contents": [{
													"template": "field",
													"input": {
														"attributes": {
															"data-validation": true,
															"onclick": "emp.functionCall(event, 'emp.form.submit', [{id:'form_content',action:'/MHPR/gateway/MHPR/MHPR_MAIN/MHPR_01.page/editPrimaryContact'}])",
															"name": "EC_BTN_EDT_PRIM_CNT",
															"id": "EC_BTN_EDT_PRIM_CNT",
															"label": "Edit Primary Contact",
															"type": "button",
															"title": "Edit Primary Contact"
														},
														"style": "skip-blocker",
														"text": "Edit Primary Contact"
													},
													"type": "button"
												}],
												"type": "column",
												"align": "center"
											}],
											"type": "row"
										}
									],
									"attributes": {
										"id": "S1"
									},
									"title": "Park primary contact information"
								},
								{
									"template": "group",
									"instructions": [{
										"template": "output",
										"raw": true,
										"text": "<p>Select the park name that you would like to update or review. If you do not see the park you are looking for or would like to add a new park, <a href=\"https://www.tax.ny.gov/help/contact/default.htm#property\" target=\"_blank\" title=\"This will open a new window for more information.\">contact us</a>.</p>"
									}],
									"contents": [{
										"template": "table",
										"head": {
											"rows": [{
												"columns": [{
														"responsive": {},
														"attributes": {
															"data-colmap": "parkSummaryModelId_Field5",
															"data-type": "link"
														},
														"text": "Park name",
														"sortable": false,
														"type": "header",
														"hideLabel": false
													},
													{
														"responsive": {},
														"attributes": {
															"data-colmap": "parkSummaryModelId_Field6",
															"data-type": "alphaNumeric"
														},
														"text": "Location",
														"sortable": false,
														"type": "header",
														"hideLabel": false
													},
													{
														"help": [{
															"template": "output",
															"raw": "true",
															"text": "<header>Facility ID</header>\n\t\t\t<p>This is a unique number assigned to a given manufactured home park by the New York State Division of Housing and Community Renewal (HCR).</p>\n\t\t\t\n\t\t</div>"
														}],
														"responsive": {},
														"attributes": {
															"data-colmap": "parkSummaryModelId_facilityId",
															"data-type": "alphaNumeric"
														},
														"text": "Facility ID",
														"sortable": false,
														"type": "header",
														"hideLabel": false
													},
													{
														"help": [{
															"template": "output",
															"raw": "true",
															"text": "<header>Registration status</header>\n\t\t\t<p><strong>Current</strong> - We have received your registration for this location and no additional information is needed at this time.</p>\n <p><strong>Registration due</strong>- We have not received your registration for this park, and it is due or past due.</p>"
														}],
														"responsive": {},
														"attributes": {
															"data-colmap": "parkSummaryModelId_Field7",
															"data-type": "alphaNumeric"
														},
														"text": "Registration status",
														"sortable": false,
														"type": "header",
														"hideLabel": false
													}
												]
											}]
										},
										"prechecked": [],
										"optimize": false,
										"attributes": {
											"id": "parkSummaryModelId"
										},
										"type": "breakout",
										"body": {
											"rows": [{
												"selection": {},
												"columns": [{
														"contents": [{
															"template": "link",
															"attributes": {
																"role": "button",
																"data-validation": false,
																"onclick": "emp.functionCall(event, {0:{'function':'emp.referenceCall','args':['tables','parkSummaryModelId','setFocus',[]]},1:{'function':'emp.form.submit','args':[{id:'form_content',action:'/MHPR/gateway/MHPR/MHPR_MAIN/MHPR_01.page/viewPark'}]}})",
																"href": "#",
																"title": "View park"
															},
															"text": "SPRING HILL PARK"
														}]
													},
													{
														"contents": [],
														"text": "723 BEEKMAN RD\nHopewell Junction, NY 12533"
													},
													{
														"contents": [],
														"text": "476"
													},
													{
														"contents": [],
														"text": "Registration due"
													}
												],
												"key": "0"
											}]
										}
									}],
									"attributes": {
										"id": "S2"
									},
									"title": "Park summary"
								},
								{
									"template": "field",
									"input": {
										"attributes": {
											"name": "_fw_flowSessionKey",
											"id": "form_content__fw_flowSessionKey",
											"type": "hidden",
											"value": "fw_default_session_id:MHPR_MAIN:parkSummary"
										}
									},
									"type": "hidden"
								}
							],
							"attributes": {
								"method": "post",
								"name": "form_content",
								"action": "/MHPR/gateway/MHPR/MHPR_MAIN/MHPR_01.page",
								"id": "form_content"
							},
							"type": "form"
						}]
					}
				]
			},
			"menus": {
				"supportContact": {
					"template": "tree",
					"items": [{
							"template": "link",
							"attributes": {
								"data-id": "https://www.tax.ny.gov/e-services/otc/help/tips_os.htm",
								"target": "_blank"
							},
							"text": "Support"
						},
						{
							"template": "link",
							"attributes": {
								"data-id": "https://www.tax.ny.gov/help/contact/",
								"target": "_blank"
							},
							"text": "Contact Us"
						}
					]
				},
				"system": {
					"template": "tree",
					"items": [{
						"template": "link",
						"attributes": {
							"data-id": "/MHPR/gateway/MHPR/MHPR_MAIN/MHPR_01/appmgr.wg/logout"
						},
						"text": "Logout"
					}]
				},
				"appHelp": {
					"template": "tree",
					"text": "appHelp"
				}
			}
		}
	</script>

	<script>
		(function() {

			var hostname = window.location.hostname;

			var assetVersion = false;
			var overrideJSON = false;

			if (fwData) {

				// Only run these function in localhost or DEVM.
				if (hostname === "localhost" || hostname === "dvm.int.nystax.gov") {

					assetVersion = localStorage.getItem("asset-version");

					// Check for a framework data overwrite
					overrideJSON = localStorage.getItem("override-json");

					if (overrideJSON !== null && overrideJSON !== undefined) {

						if (overrideJSON && typeof overrideJSON === "string") {

							try {

								overrideJSON = JSON.parse(overrideJSON);

								if (overrideJSON.screen && overrideJSON.screen.id === fwData.screen.id) {
									fwData = overrideJSON;

									console.warn("===============================================\nTHIS PAGE IS OVERRIDING THE RETURNED PAGE JSON!\n===============================================");
								}
								else {

									console.log("Override JSON ignored!");
								}

							}
							catch (e) {

								console.log(e);
								console.log("override ignored because parse error!");
							}

						}
					}
				}

				if (typeof assetVersion !== "string") {

					assetVersion = fwData.context.ui.version;
				}

				var cssPath = fwData.context.ui.baseurl + assetVersion + "/" + "css/main.css?cid=" + fwData.context.ui.cid;
				var jsPath = fwData.context.ui.baseurl + assetVersion + "/" + "js/main.js?cid=" + fwData.context.ui.cid;

				var loadCSS = function _load_css() {
					var link = document.createElement('link');
					link.setAttribute('href', cssPath);
					link.setAttribute('rel', 'stylesheet');
					link.setAttribute('type', 'text/css');

					link.addEventListener('load', function() {

						loadJS();
					}, false);

					document.getElementsByTagName('head')[0].appendChild(link);
				}

				var loadJS = function _load_js() {
					var script = document.createElement('script');
					script.setAttribute('id', "require");
					script.setAttribute('src', jsPath);

					script.addEventListener('load', function() {

						//require(['jquery', 'emp', 'domReady!'], function ($, emp) { });
					}, false);

					document.body.appendChild(script);
				}

				loadCSS();
			}
			else {

				console.log("No fwData found!");
			}

		})();
	</script>
</body>

</html>
